(function(e){function t(t){for(var n,i,u=t[0],s=t[1],o=t[2],f=0,l=[];f<u.length;f++)i=u[f],a[i]&&l.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(l.length)l.shift()();return c.push.apply(c,o||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={broker:0},c=[];function i(e){return u.p+"broker/js/"+({"lazy-iwc":"lazy-iwc","lazy-modules":"lazy-modules"}[e]||e)+"-legacy."+{"lazy-iwc":"51dbf5a6","lazy-modules":"0808a71e"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=i(e),c=function(t){s.onerror=s.onload=null,clearTimeout(o);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+c+")");i.type=n,i.request=c,r[1](i)}a[e]=void 0}};var o=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="https://static.arc.io/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=o;c.push(["0fe7","chunk-vendors"]),r()})({"04ed":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return m}));var n=r("1da1"),a=r("d4ec"),c=r("bee2"),i=(r("96cf"),r("99af"),r("fb6a"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("3d15")),u=r("2677"),s=r.n(u),o=r("364d"),f=r.n(o),p=r("460a"),l=r("cee5"),d=r("34eb")("arc:storage:store");console.log;function h(e,t){return"chunk-".concat(e,"-").concat(t)}function b(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Async",r=e.constructor.prototype,n=["get","put","close","destroy","remove"],a=0,c=n;a<c.length;a++){var i=c[a];if(i in r){var u=i+t;r[u]=f()(r[i])}}return e}var v=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a["a"])(this,t),this.chunkLength=e,this.fid=r.fid,this.dbAsync=r.dbAsync,this.closed=!1}return Object(c["a"])(t,[{key:"get",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,a){var c,i,u,s,o,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof n){t.next=4;break}return t.abrupt("return",this.get(r,null,n));case 4:if(!this.closed){t.next=6;break}return t.abrupt("return",this._alreadyClosedErrback(a));case 6:return t.prev=6,c=[this.fid,r],t.next=10,this.dbAsync;case 10:return t.next=12,t.sent.get(p["CHUNK_STORE"],c);case 12:if(i=t.sent,i){t.next=17;break}return u=new Error("No chunk at index ".concat(r,".")),e.nextTick(a,u),t.abrupt("return");case 17:n=n||{},s=i.buffer,o=n.offset||0,f=n.length||s.length-o,l=s.slice(o,o+f),e.nextTick(a,null,l),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](6),d(t.t0),e.nextTick(a,t.t0);case 29:case"end":return t.stop()}}),t,this,[[6,25]])})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"put",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(a),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.dbAsync;case 6:return t.next=8,t.sent.put(p["CHUNK_STORE"],{fid:this.fid,index:r,buffer:n});case 8:e.nextTick(a,null),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),e.nextTick(a,t.t0);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"remove",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(n),t.abrupt("return");case 3:return t.prev=3,a=[this.fid,r],t.next=7,this.dbAsync;case 7:return t.next=9,t.sent.delete(p["CHUNK_STORE"],a);case 9:e.nextTick(n,null),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),e.nextTick(n,t.t0);case 15:case"end":return t.stop()}}),t,this,[[3,12]])})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"close",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(r),t.abrupt("return");case 3:return t.next=5,this.dbAsync;case 5:t.sent.close(),this.closed=!0,e.nextTick(r,null);case 8:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"destroy",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(r),t.abrupt("return");case 3:return t.prev=3,n=IDBKeyRange.bound([this.fid,0],[this.fid,1/0]),t.next=7,this.dbAsync;case 7:return t.next=9,t.sent.delete(p["CHUNK_STORE"],n);case 9:e.nextTick(r,null),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),e.nextTick(r,t.t0);case 15:case"end":return t.stop()}}),t,this,[[3,12]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"_alreadyClosedErrback",value:function(t){e.nextTick(t,new Error("Store is closed"))}}]),t}(),m=function(){function t(e){Object(a["a"])(this,t);var r=e.fid,n=e.torrentFileObj;this.fid=r;var c=n.pieceLength,i=Object(p["initDb"])();this.dbAsync=i;var u=b;this.diskStore=u(new v(c,{fid:r,dbAsync:i})),this.memStore=u(new s.a(c,n)),this.quota=new l["a"](r,i),this.promises=[Object(p["storeFileInfo"])(e)],this._addQuotaListeners()}return Object(c["a"])(t,[{key:"_addQuotaListeners",value:function(){var e=this;this.quota.onEviction((function(t,r){d("eviction, storing in memStore",t,r.length),e.memStore.putAsync(t,r)}))}},{key:"get",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,a){var c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.promises.push(this.quota.updateAccessTime()),c=null,t.prev=2,t.next=5,this.memStore.getAsync(r,n);case 5:c=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),c=null;case 11:if(u=h(r,this.fid),null===c){t.next=16;break}return d("memStore get: ".concat(u)),e.nextTick(a,null,i["c"](c,[c.buffer])),t.abrupt("return");case 16:return t.prev=16,t.next=19,this.diskStore.getAsync(r,n);case 19:c=t.sent,d("diskStore get: ".concat(u)),e.nextTick(a,null,i["c"](c,[c.buffer])),t.next=27;break;case 24:t.prev=24,t.t1=t["catch"](16),e.nextTick(a,t.t1);case 27:case"end":return t.stop()}}),t,this,[[2,8],[16,24]])})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"put",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,a){var c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=h(r,this.fid),i=!1,t.prev=2,t.next=5,this.quota.willExceedCustomQuota(n.length);case 5:if(!t.sent){t.next=8;break}return t.next=8,this.quota.clearStorageForChunk(n.length);case 8:return d("diskStore put: ".concat(c)),t.next=11,this.diskStore.putAsync(r,n);case 11:e.nextTick(a,null),t.next=20;break;case 14:if(t.prev=14,t.t0=t["catch"](2),i=!0,"QuotaExceededError"!==t.t0.name){t.next=20;break}return t.next=20,this.quota.clearStorageForChunk(n.length);case 20:if(i){t.next=22;break}return t.abrupt("return");case 22:return t.prev=22,d("memStore put: ".concat(c)),t.next=26,this.memStore.putAsync(r,n);case 26:e.nextTick(a,null),t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](22),e.nextTick(a,t.t1);case 32:case"end":return t.stop()}}),t,this,[[2,14],[22,29]])})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"remove",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(n),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.diskStore.removeAsync(r);case 6:e.nextTick(n,null),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),e.nextTick(n,t.t0);case 12:case"end":return t.stop()}}),t,this,[[3,9]])})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"close",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(r),t.abrupt("return");case 3:return this.closed=!0,t.prev=4,t.next=7,Promise.all([this.diskStore.closeAsync(),this.memStore.closeAsync()]);case 7:e.nextTick(r,null),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),e.nextTick(r,t.t0);case 13:case"end":return t.stop()}}),t,this,[[4,10]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"destroy",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.closed){t.next=3;break}return this._alreadyClosedErrback(r),t.abrupt("return");case 3:return this.closed=!0,t.prev=4,t.next=7,Promise.all(this.promises);case 7:return t.t0=Promise,t.t1=this.diskStore.destroyAsync(),t.t2=this.memStore.destroyAsync(),t.next=12,this.dbAsync;case 12:return t.t3=t.sent.delete(p["FILE_INFO_STORE"],this.fid),t.t4=[t.t1,t.t2,t.t3],t.next=16,t.t0.all.call(t.t0,t.t4);case 16:e.nextTick(r,null),t.next=22;break;case 19:t.prev=19,t.t5=t["catch"](4),e.nextTick(r,t.t5);case 22:case"end":return t.stop()}}),t,this,[[4,19]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"_alreadyClosedErrback",value:function(t){e.nextTick(t,new Error("FileChunkStore is closed."))}}]),t}()}).call(this,r("4362"))},"0fe7":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"getWidgetOptState",(function(){return L})),r.d(n,"setWidgetOptState",(function(){return B})),r.d(n,"enableWidget",(function(){return U})),r.d(n,"disableWidget",(function(){return K}));var a={};r.r(a),r.d(a,"hasNewPropertySession",(function(){return ne})),r.d(a,"enableMasterEligibility",(function(){return ae})),r.d(a,"getBrokerIds",(function(){return ie})),r.d(a,"listPropertySessions",(function(){return se}));var c=r("1da1"),i=(r("e623"),r("e379"),r("5dc8"),r("37e1"),r("96cf"),r("8011"),r("c4d1")),u=r("a5a5"),s=r("3d15"),o=(r("4f96"),r("3835")),f=r("b85c"),p=r("d4ec");r("d3b7"),r("3ca3"),r("ddb0"),r("fb6a"),r("b0c0"),r("a630"),r("4d63"),r("ac1f"),r("25f0"),r("4de4"),r("5319"),r("a15b"),r("1276"),r("2b3d"),r("4fad"),r("a434"),r("b64b"),r("8a79"),r("07ac"),r("99af"),r("caad"),r("2532"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("498a"),console.log;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",t=(new Date).getTime(),r=String(Math.random()).slice(2,11);return t+e+r}function d(e){var t=e.name,r=e.message,n=e.stack;return{name:t,message:r,stack:n}}function h(){s["d"].set("error",{canHandle:function(e){return e instanceof Error},serialize:function(e){var t=d(e),r=[];return[t,r]},deserialize:function(e){return Object.assign(Error(),e)}}),s["d"].set("babelError",{canHandle:function(e){return e&&1===e.length&&e[0]instanceof Error},serialize:function(e){var t=[d(e[0])],r=[];return[t,r]},deserialize:function(e){return[Object.assign(Error(),e[0])]}})}var b=r("81e8"),v=r("5de4"),m=r("5530");u["e"].COMLINK_INIT;function g(e,t){return O.apply(this,arguments)}function O(){return O=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["a"])(r,2),a=n[0],c=n[1],s["a"](t,a),i=s["e"](c),e.next=5,i._confirmRpc();case 5:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return w=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["a"])(r,2),n[0],a=n[1],c=s["e"](a),e.next=4,c._rejectRpc(t);case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}var k=r("257e"),x=r("262e"),R=r("2caf"),I=r("bee2"),j=r("ade3"),_=r("a78e"),E=r.n(_),T=r("2677"),S=r.n(T),N=new Date("January 1, 2036"),D="arc.io",A={state:u["d"].UNDECIDED,date:new Date,dismissedAt:null},C=function(){return{domain:P(),expires:N,sameSite:"None",secure:!0}};function P(){var e=window.location.hostname;return F(e)?D:e}function F(e){return e.endsWith("."+D)||e===D}function L(){return G.apply(this,arguments)}function G(){return G=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=E.a.get(u["c"]),!t){e.next=5;break}return t=JSON.parse(t),t.date=new Date(t.date),e.abrupt("return",t);case 5:return B(A),e.abrupt("return",A);case 7:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function B(e){return M.apply(this,arguments)}function M(){return M=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.abrupt("return",E.a.set(u["c"],t,C()));case 2:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function U(e,t){return W.apply(this,arguments)}function W(){return W=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={state:u["d"].OPTED_IN,date:Date.now(),referrerPropertyId:t,referrerOrigin:r},e.abrupt("return",B(n));case 2:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function K(e,t){return H.apply(this,arguments)}function H(){return H=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={state:u["d"].OPTED_OUT,date:Date.now(),referrerPropertyId:t,referrerOrigin:r},e.abrupt("return",B(n));case 2:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var z=r("04ed"),q=r("460a"),J=r("2909"),Q=r("15fd"),Y=(r("6062"),r("7db0"),r("d81d"),r("612d")),V=r("34eb")("arc:broker"),X="propertySessions",Z=function(){function e(){Object(p["a"])(this,e)}return Object(I["a"])(e,null,[{key:"establishRpc",value:function(e){return"_rpc|establish:".concat(e)}},{key:"confirmRpc",value:function(e){return"_rpc|confirm:".concat(e)}},{key:"rpcPair",value:function(e,t){return"_rpc|pair:".concat(e,"-").concat(t)}}]),e}(),$=function(){return r.e("lazy-iwc").then(r.bind(null,"4be7")).then((function(e){return e.SJ.iwc}))},ee=function(e){return new Promise((function(t){return e.onReady(t)}))};function te(e,t){for(var r=new Set(t),n={},a=0,c=Object.entries(e);a<c.length;a++){var i=Object(o["a"])(c[a],2),u=i[0],s=i[1],f=s.activeBrokers.filter((function(e){var t=r.has(e.brokerId);return t}));f.length>0&&(n[u]={propertySessionId:s.propertySessionId,activeBrokers:f})}return n}function re(e,t,r,n){e=e||{},e=te(e,t);var a=r.propertyId,c=r.myBrokerId,i=Object(Q["a"])(r,["propertyId","myBrokerId"]);a in e||(e[a]={propertySessionId:n,activeBrokers:[]});var u=e[a].activeBrokers;return u.find((function(e){return e.brokerId===c}))||e[a].activeBrokers.push(Object(m["a"])({brokerId:c,propertyId:a},i)),e}function ne(e,t){var r=Object.values(e),n=t.some((function(e){return r.some((function(t){var r=t.activeBrokers,n=1===r.length&&r[0].brokerId===e;return n}))}));return n}function ae(e,t){return ce.apply(this,arguments)}function ce(){return ce=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,c,i,u,s,p,d,h,b,v,m,g,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=function(e,t,r){var n,c=Object(f["a"])(r);try{for(c.s();!(n=c.n()).done;){var i=n.value;u.EventBus.un(Z.rpcPair(i,d))}}catch(o){c.e(o)}finally{c.f()}var s=e.getOpenWindowIds();s.sort(),h.change((function(e){return e=e||null,s.includes(e)||(e=null),e||s[0]!==d||(e=d),e})),V("brokers changed. \nmyBrokerId %s \nbrokerIds %o \nnewBrokers %o \nclosedBrokers %o",d,s,t,r),v()&&(t.length&&b.onceChanged((function(e){ne(e,t)&&a.emit("newSession")})),r.length&&(V("master: cleaning sessions b/c brokers closed. %o",r),b.change((function(e){return e=e||{},te(e,s)}))))},v=function(){var e=h.get();return d===e},n=O.length>2&&void 0!==O[2]&&O[2],a=this,window.name=l(),e.next=7,Promise.all([$(),Object(Y["a"])()]);case 7:return c=e.sent,i=Object(o["a"])(c,2),u=i[0],s=i[1].uuid4,p=u.WindowMonitor,e.next=14,ee(p);case 14:d=p.getThisWindowId(),V("broker is eligible to become master. myBrokerId: ".concat(d)),h=new u.SharedData("master"),b=new u.SharedData(X),h.onChanged((function(){if(v()){a.emit("master"),V("master: cleaning sessions b/c im the new master");var e=p.getOpenWindowIds();b.change((function(t){return t=t||{},te(t,e)}))}})),b.onChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(V("propertySessions changed %o",e),t in e){var r=e[t].propertySessionId;a.emit("propertySessionId",r)}})),g=function(){var e=p.getOpenWindowIds(),a={myBrokerId:d,propertyId:t,origin:r,isSwActive:n};b.change((function(t){return re(t,e,a,s())}))},g(),setInterval(g,3e4),m(p,[d],[]),p.onWindowsChanged((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.apply(void 0,[p].concat(t))}));case 25:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function ie(){return ue.apply(this,arguments)}function ue(){return ue=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:return t=e.sent,r=t.WindowMonitor,e.next=6,ee(r);case 6:return n=r.getOpenWindowIds(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function se(){return oe.apply(this,arguments)}function oe(){return oe=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,c,i,u,s,f,p,l,d,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:t=e.sent,r=[],n=new t.SharedData(X).get(),a=0,c=Object.entries(n);case 6:if(!(a<c.length)){e.next=17;break}if(i=Object(o["a"])(c[a],2),u=i[0],s=i[1],f=s.activeBrokers,p=void 0===f?[]:f,l=s.propertySessionId,p.length){e.next=11;break}return e.abrupt("continue",14);case 11:d=Object(J["a"])(new Set(p.map((function(e){return e.origin})))).filter(Boolean),h=p.some((function(e){return e.isSwActive})),r.push({propertyId:u,propertySessionId:l,origins:d,isSwActive:h,status:"open"});case 14:a++,e.next=6;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}var fe=function(){function e(){Object(p["a"])(this,e),Object(j["a"])(this,"events",{})}return Object(I["a"])(e,[{key:"on",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t in this.events||(this.events[t]=[]),this.events[t].push(r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"once",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this,this.on(t,(function e(){n.removeListener(t,e),r()}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"emit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i,u,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t in this.events){e.next=2;break}return e.abrupt("return");case 2:for(r=this.events[t].slice(),n=o.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=o[c];i=Object(f["a"])(r);try{for(i.s();!(u=i.n()).done;)s=u.value,s.apply(void 0,a)}catch(p){i.e(p)}finally{i.f()}case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeListener",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t in this.events){e.next=2;break}return e.abrupt("return");case 2:n=this.events[t].indexOf(r),-1!==n&&this.events[t].splice(n,1);case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"removeAllListeners",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t?this.events[t]=[]:this.events={};case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.removeAllListeners();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),pe=function(e){Object(x["a"])(r,e);var t=Object(R["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.call(this),Object(j["a"])(Object(k["a"])(e),"Cookies",s["b"](E.a)),Object(j["a"])(Object(k["a"])(e),"localStorage",s["b"](localStorage)),Object.assign(Object(k["a"])(e),a),Object.assign(Object(k["a"])(e),q),Object.assign(Object(k["a"])(e),n),e}return Object(I["a"])(r,[{key:"createStore",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new z["a"](t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(fe),le=function(e){Object(x["a"])(r,e);var t=Object(R["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(I["a"])(r,[{key:"createStore",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new z["a"](t),e.abrupt("return",s["b"](r));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(pe),de=function(e){Object(x["a"])(r,e);var t=Object(R["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(I["a"])(r,[{key:"createStore",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.torrentFileObj,n=r.pieceLength,a=r.length,c=S()(n,{length:a}),e.abrupt("return",s["b"](c));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(pe),he=u["e"].COMLINK_INIT,be=u["e"].BROKER_LOAD;window.cl=console.log,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return h(),Object(i["b"])(),Object(b["a"])(),window.addEventListener("message",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i,u,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.data,n=r.arcEvent,a=r.wrappedPort,c=r.exposedPort,i=r.parentUrl,n===he){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(q["isStorageAccessDenied"])();case 5:if(!e.sent){e.next=10;break}u=new Error("Storage access denied"),y(u,t.ports),e.next=13;break;case 10:s=i&&Object(v["a"])(i)?new de:new le,o=a&&c?[a,c]:t.ports,g(s,o);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.parent.postMessage({arcEvent:be},"*"),e.next=7,Object(q["getOrGenerateMyNodeId"])();case 7:t=e.sent,i["a"].configureScope((function(e){e.setTag("nodeId",t),e.setTag("arcClient","broker")}));case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()()},"460a":function(e,t,r){"use strict";r.r(t),r.d(t,"CHUNK_STORE",(function(){return m})),r.d(t,"FILE_INFO_STORE",(function(){return g})),r.d(t,"getOrGenerateMyNodeId",(function(){return O})),r.d(t,"isStorageAccessDenied",(function(){return w})),r.d(t,"initDb",(function(){return x})),r.d(t,"destroyDb",(function(){return I})),r.d(t,"forceDbCompaction",(function(){return _})),r.d(t,"storeFileInfo",(function(){return T})),r.d(t,"getFilesToSeed",(function(){return N})),r.d(t,"listFilesToSeed",(function(){return A})),r.d(t,"getTorrentFileObject",(function(){return P})),r.d(t,"destroyFile",(function(){return L})),r.d(t,"generateStorageReport",(function(){return B})),r.d(t,"getStoredFids",(function(){return U})),r.d(t,"getCustomStorageEstimate",(function(){return K}));var n=r("3835"),a=r("b85c"),c=r("5530"),i=r("15fd"),u=r("1da1"),s=(r("caad"),r("2532"),r("3ca3"),r("ddb0"),r("d3b7"),r("96cf"),r("3f4f")),o=r("8665"),f=r("a5a5"),p=r("5de4"),l=r("612d"),d=r("34eb")("arc:broker"),h="Arc_nodeId",b="arc",v=60,m=(console.log,"fileChunks"),g="fileInfo";function O(){return y.apply(this,arguments)}function y(){return y=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get(h);case 2:if(t=e.sent,t){e.next=11;break}return e.next=6,Object(l["a"])();case 6:return r=e.sent,n=r.guid,t=n(),e.next=11,o["a"].set(h,t);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return k=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,window.localStorage.getItem("test"),e.next=4,x();case 4:return e.abrupt("return",!1);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),k.apply(this,arguments)}function x(){return R.apply(this,arguments)}function R(){return R=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(b,v,{upgrade:function(e,t,r,n){var a,c;if(e.objectStoreNames.contains(m))a=n.objectStore(m);else{var i={keyPath:["fid","index"]};a=e.createObjectStore(m,i)}if(a.indexNames.contains("fid")||a.createIndex("fid","fid"),e.objectStoreNames.contains(g))c=n.objectStore(g);else{var u={keyPath:"fid"};c=e.createObjectStore(g,u)}c.indexNames.contains("accessTime")||c.createIndex("accessTime","accessTime"),c.indexNames.contains("expiresAt")||c.createIndex("expiresAt","expiresAt"),c.indexNames.contains("seedTaskDate")||c.createIndex("seedTaskDate","seedTaskDate")},blocked:function(){},blocking:function(){},terminated:function(){}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function I(){return j.apply(this,arguments)}function j(){return j=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(b));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function _(){return E.apply(this,arguments)}function E(){return E=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="tempDb",r="temp",e.next=5,Object(s["b"])(t,1,{upgrade:function(e){e.createObjectStore(r,{keyPath:"id"})}});case 5:return n=e.sent,e.next=8,n.put(r,{id:"fucboi"});case 8:return e.next=10,Object(s["a"])(t);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),E.apply(this,arguments)}function T(e){return S.apply(this,arguments)}function S(){return S=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i,u,s,o,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])();case 2:return r=e.sent,n=r.parseTorrent,a=t.fid,c=t.torrentFileObj,i=t.expiresAt,u=t.seedTaskDate,s=n.toTorrentFile(c),o={fid:a,torrentFile:s,expiresAt:i?new Date(i):null,seedTaskDate:u?new Date(u):null,accessTime:new Date},e.next=9,x();case 9:return f=e.sent,e.next=12,f.put(g,o);case 12:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function N(){return D.apply(this,arguments)}function D(){return D=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,c,i,u,s,o,p,d,h,b,v,m,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=O.length>0&&void 0!==O[0]?O[0]:5,r=O.length>1&&void 0!==O[1]?O[1]:[],e.next=4,Object(l["a"])();case 4:return n=e.sent,a=n.parseTorrent,c=n.Buffer,i={},u=0,e.next=11,x();case 11:return s=e.sent,e.next=14,s.transaction(g).store.openCursor();case 14:o=e.sent;case 15:if(!(o&&u<t)){e.next=26;break}return p=o.value,d=p.fid,h=p.torrentFile,b=a(c.from(h)),v=r.includes(d),m=b.length>f["a"],!v&&m&&(i[d]=b,u++),e.next=23,o.continue();case 23:o=e.sent,e.next=15;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function A(){return C.apply(this,arguments)}function C(){return C=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,s,o,p,d,h,b,v,m,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=O.length>0&&void 0!==O[0]?O[0]:5,r=O.length>1&&void 0!==O[1]?O[1]:[],e.next=4,Object(l["a"])();case 4:return n=e.sent,a=n.parseTorrent,s=n.Buffer,o=[],e.next=10,x();case 10:if(p=e.sent,d=p.transaction(g).store,h=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){var u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u=regeneratorRuntime.mark((function e(){var t,u,p,l,d,h,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.value,u=t.fid,p=t.torrentFile,l=Object(i["a"])(t,["fid","torrentFile"]),d=a(s.from(p)),h=r.includes(u)||o.some((function(e){return e.fid===u})),b=d.length>f["a"],!h&&b&&o.push(Object(c["a"])({fid:u,torrentFileObj:d},l)),e.next=7,n.continue();case 7:n=e.sent;case 8:case"end":return e.stop()}}),e)}));case 1:if(!(n&&o.length<t)){e.next=5;break}return e.delegateYield(u(),"t0",3);case 3:e.next=1;break;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!d.indexNames.contains("seedTaskDate")){e.next=20;break}return b=d.index("seedTaskDate"),e.next=17,b.openCursor(null,"prev");case 17:return v=e.sent,e.next=20,h(v);case 20:if(!(o.length<t)){e.next=26;break}return e.next=23,d.openCursor();case 23:return m=e.sent,e.next=26,h(m);case 26:return e.abrupt("return",o);case 27:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function P(e){return F.apply(this,arguments)}function F(){return F=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])();case 2:return r=e.sent,n=r.parseTorrent,a=r.Buffer,e.next=7,x();case 7:return c=e.sent,e.next=10,c.get(g,t);case 10:if(i=e.sent,i){e.next=13;break}return e.abrupt("return",null);case 13:return u=i.torrentFile,s=n(a.from(u)),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function L(e){return G.apply(this,arguments)}function G(){return G=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return r=e.sent,n=IDBKeyRange.bound([t,0],[t,1/0]),e.next=6,Promise.all([r.delete(m,n),r.delete(g,t)]);case 6:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function B(){return M.apply(this,arguments)}function M(){return M=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,u,s,o,f,p,l,h,b,v,O,y,w,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,x();case 4:return r=e.sent,e.next=7,r.getAll(g);case 7:u=e.sent,s=Object(a["a"])(u);try{for(s.s();!(o=s.n()).done;)f=o.value,p=f.fid,l=f.torrentFile,h=Object(i["a"])(f,["fid","torrentFile"]),t[p]=Object(c["a"])(Object(c["a"])({},h),{},{isSeeding:!1,clientName:null,hasTorrentFile:!!l,chunkIndexes:[]})}catch(R){s.e(R)}finally{s.f()}return e.next=12,r.getAllKeys(m);case 12:b=e.sent,v=Object(a["a"])(b);try{for(v.s();!(O=v.n()).done;)y=Object(n["a"])(O.value,2),w=y[0],k=y[1],t[w]=t[w]||{chunkIndexes:[]},t[w].chunkIndexes.push(k)}catch(R){v.e(R)}finally{v.f()}e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1),d(e.t0);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),M.apply(this,arguments)}function U(){return W.apply(this,arguments)}function W(){return W=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,x();case 4:return r=e.sent,e.next=7,r.getAllKeys(g);case 7:t=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),d(e.t0);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),W.apply(this,arguments)}function K(){return H.apply(this,arguments)}function H(){return H=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=navigator,r=t.storage,r&&r.estimate&&!Object(p["b"])()){e.next=3;break}return e.abrupt("return",{usage:0,quota:0,customQuota:0});case 3:return n=p["c"].asNumber("quotaSizeMb",f["b"]),e.next=6,r.estimate();case 6:return a=e.sent,c=a.usage,i=a.quota,u=1048576,s=Math.min(i,n*u),e.abrupt("return",{usage:c,quota:i,customQuota:s});case 12:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}},"5de4":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));r("5530"),r("1da1"),r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("caad"),r("a9e3"),r("2ca0"),r("ac1f"),r("5319"),r("99af"),r("f00c"),r("b0c0"),console.log;var n={_searchParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=new URL(e),r=t.searchParams;return r},exists:function(e,t){return this._searchParams(t).has(e)},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;return this._searchParams(r).get(e)||t},isTruthy:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=this._searchParams(r);return n.has(e)?["1","true"].includes(n.get(e).toLowerCase()):t},asNumber:function(e,t,r){var n=this._searchParams(r);return n.has(e)?Number(n.get(e)):t}};function a(e){var t=n.isTruthy("diskstore",!0,e);return!t||c()||i(e)}function c(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function i(e){return e.startsWith("https://arc.io/demo")}},"612d":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("1da1");r("96cf"),r("d3b7"),r("3ca3"),r("ddb0");function a(){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.e("lazy-modules").then(r.bind(null,"e8a7")));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},8011:function(e,t,r){r("fb6a"),function(e,t,r,n,a,c,i,u,s){for(var o=!0,f=!1,p=0;p<document.scripts.length;p++)if(document.scripts[p].src.indexOf(i)>-1){o=!("no"===document.scripts[p].getAttribute("data-lazy"));break}var l=!1,d=[],h=function e(t){("e"in t||"p"in t||t.f&&t.f.indexOf("capture")>-1||t.f&&t.f.indexOf("showReportDialog")>-1)&&o&&b(d),e.data.push(t)};function b(i){if(!l){l=!0;var o=t.getElementsByTagName(r)[0],f=t.createElement(r);f.src=u,f.setAttribute("crossorigin","anonymous"),f.addEventListener("load",(function(){try{e[n]=m,e[a]=g;var t=e[c],r=t.init;t.init=function(e){var t=s;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);r(t)},v(i,t)}catch(u){console.error(u)}})),o.parentNode.insertBefore(f,o)}}function v(t,r){try{for(var c=h.data,i=0;i<t.length;i++)"function"===typeof t[i]&&t[i]();var u=!1,s=e["__SENTRY__"];"undefined"!==typeof s&&s.hub&&s.hub.getClient()&&(u=!0);var o=!1;for(i=0;i<c.length;i++)if(c[i].f){o=!0;var f=c[i];!1===u&&"init"!==f.f&&r.init(),u=!0,r[f.f].apply(r,f.a)}!1===u&&!1===o&&r.init();var p=e[n],l=e[a];for(i=0;i<c.length;i++)"e"in c[i]&&p?p.apply(e,c[i].e):"p"in c[i]&&l&&l.apply(e,[c[i].p])}catch(d){console.error(d)}}h.data=[],e[c]=e[c]||{},e[c].onLoad=function(e){d.push(e),o&&!f||b(d)},e[c].forceLoad=function(){f=!0,o&&setTimeout((function(){b(d)}))},["init","addBreadcrumb","captureMessage","captureException","captureEvent","configureScope","withScope","showReportDialog"].forEach((function(t){e[c][t]=function(){h({f:t,a:arguments})}}));var m=e[n];e[n]=function(t,r,n,a,c){h({e:[].slice.call(arguments)}),m&&m.apply(e,arguments)};var g=e[a];e[a]=function(t){h({p:"reason"in t?t.reason:"detail"in t&&"reason"in t.detail?t.detail.reason:t}),g&&g.apply(e,arguments)},o||setTimeout((function(){b(d)}))}(window,document,"script","onerror","onunhandledrejection","Sentry","7e5c2fad7a564ff8bffd4effc2abb26d","https://browser.sentry-cdn.com/6.2.2/bundle.min.js",{dsn:"https://7e5c2fad7a564ff8bffd4effc2abb26d@sentry.arc.io/2"})},"81e8":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n}));r("d3b7");function n(){var t=Promise.resolve();function r(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.then((function(){e.apply(void 0,n)}))}e.nextTick=r,e.nextTickAsync=function(){return t.then()}}}).call(this,r("4362"))},a5a5:function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return h}));var n="arc:",a={COMLINK_INIT:"".concat(n,"comlink:init"),NODE_ID:"".concat(n,":nodeId"),CLIENT_TEARDOWN:"".concat(n,"client:teardown"),CLIENT_TAB_ID:"".concat(n,"client:tabId"),CDN_CONFIG:"".concat(n,"cdn:config"),P2P_CLIENT_READY:"".concat(n,"cdn:ready"),STORED_FIDS:"".concat(n,"cdn:storedFids"),SW_HEALTH_CHECK:"".concat(n,"cdn:healthCheck"),WIDGET_CONFIG:"".concat(n,"widget:config"),WIDGET_INIT:"".concat(n,"widget:init"),WIDGET_UI_LOAD:"".concat(n,"widget:load"),BROKER_LOAD:"".concat(n,"broker:load"),RENDER_FILE:"".concat(n,"inlay:renderFile"),FILE_RENDERED:"".concat(n,"inlay:fileRendered")},c="shared-worker",i=("/".concat(c,".js"),"dedicated-worker"),u=("/".concat(i,".js"),"arc-sw-core"),s=("/".concat(u,".js"),"arc-sw"),o="".concat(s,".js"),f=("/".concat(o),"/".concat(s),1024),p=(Math.pow(f,2),300),l=(Math.pow(2,18),Math.pow(2,17)),d=(Math.pow(2,18),{UNDECIDED:"UNDECIDED",OPTED_IN:"OPTED_IN",OPTED_OUT:"OPTED_OUT"}),h="widgetOptState",b="https://warden.arc.io";"".concat(b,"/mailbox/propertySession"),"".concat(b,"/mailbox/transfers")},c490:function(e,t){e.exports=Sentry},c4d1:function(e,t,r){"use strict";r("2909");var n=r("5530"),a=(r("4de4"),r("b0c0"),r("c490")),c=Object({NODE_ENV:"production",BASE_URL:"https://static.arc.io/",ACCOUNT_ORIGIN:"https://account.arc.io",BANDWIDTH_WARDEN_ORIGIN:"https://warden.arc.io",COGNITO_APP_ID:"431634imeo45noat90ccl0lkep",COGNITO_REGION:"us-east-2",COGNITO_IDENTITY_POOL_ID:"us-east-2:cec1bb4c-3aa1-4d9a-87df-b75ae59441d0",COGNITO_USER_POOL_ID:"us-east-2_3sKO4HOjv",COMMIT_HASH:"f61723d",CORE_ORIGIN:"https://core.arc.io",DEMO_VUE_ORIGIN:"https://demo.arc.io",DOCS_ORIGIN:"https://docs.arc.io",FIREBASE_API_KEY:"AIzaSyCGmeUDT5F7Bq77JvXlN8IXBwJjIXJwvcI",GA_TID_HOMEPAGE:"UA-123508647-1",GA_TID_USER_TIMING:"UA-123508647-2",GATEWAY_ORIGIN:"https://gateway.arc.io",GOOGLE_PROJECT_FIRESTORE_ID:"prod-firestore-arc",HOMEPAGE_ORIGIN:"https://arc.io",INLAY_ORIGIN:"https://inlay.arc.io",OVERMIND_ORIGIN:"https://overmind.arc.io",PORTAL_VUE_ORIGIN:"https://portal.arc.io",PORTAL_ORIGIN:"https://portal.arc.io",NODE_REPORT_MAILBOX_ORIGIN:"https://warden.arc.io",ROOT_DOMAIN:"arc.io",SOCKETCLUSTER_HOSTNAME:"socket.arc.io",SOCKETCLUSTER_PORT:"443",STATIC_ORIGIN:"https://static.arc.io",STORAGE_ORIGIN:"https://storage.arc.io",STRIPE_CLIENT_ID:"ca_DMhwnlBqMfP4Vx8mJF4M1nGxTNU5263W",STRIPE_PUBLISHABLE_KEY:"pk_live_Df4EdjIuSE8fW21HyuwWhJcm",SW_ORIGIN:"https://arc.io",TCDN_ORIGIN:"https://tcdn.arc.io",TRACKER_ANNOUNCE_URL:"wss://tkr.arc.io/announce",TRACKER_ORIGIN:"https://tkr.arc.io",WEBSEED_ORIGIN:"https://webseed.arc.io",WIDGET_ORIGIN:"https://arc.io",DEBUG:"false"});c.IS_PROD="production"===c.NODE_ENV;var i=c,u=[/extensions\//i,/-extension:\/\//i];r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));var s=i.NODE_ENV,o=i.COMMIT_HASH,f=["SecurityError IDBFactory.open() called in an invalid security context"],p=a;function l(e){!p.SDK_NAME&&self.Sentry&&(p=self.Sentry),p.init(Object(n["a"])({dsn:"https://7e5c2fad7a564ff8bffd4effc2abb26d@sentry.arc.io/2",enabled:"production"===s,environment:s,release:o,maxBreadcrumbs:5,ignoreErrors:f,autoSessionTracking:!1,denyUrls:u,blacklistUrls:u},e))}function d(){var e={};l(e)}function h(){p.onLoad(d)}},cee5:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("b85c"),a=r("1da1"),c=r("d4ec"),i=r("bee2"),u=(r("99af"),r("4de4"),r("96cf"),r("517b")),s=(r("c4d1"),r("460a")),o=r("34eb")("arc:storage:quota"),f=300,p=(console.log,function(){function e(t,r){Object(c["a"])(this,e),this.fid=t,this.dbAsync=r,this.evictionCallback=function(){},this.updateAccessTime=Object(u["a"])(this.updateAccessTime,2500)}return Object(i["a"])(e,[{key:"onEviction",value:function(e){this.evictionCallback=e}},{key:"willExceedCustomQuota",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getCustomStorageEstimate"])();case 2:return r=e.sent,n=r.usage,a=r.customQuota,e.abrupt("return",n+t>a);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearStorageForChunk",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,c,i,u,s,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=1.25,t*=r,e.prev=2,e.next=5,this._evictChunks(t);case 5:a=e.sent,c=Object(n["a"])(a);try{for(c.s();!(i=c.n()).done;)u=i.value,s=u.index,f=u.buffer,this.evictionCallback(s,f)}catch(p){c.e(p)}finally{c.f()}e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),o(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_evictChunks",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,c,i,u,f,p,l,d,h,b,v,m,g,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dbAsync;case 2:return r=e.sent,a=[],c=0,e.next=7,this._getFilesEligibleForEviction();case 7:i=e.sent,u=Object(n["a"])(i),e.prev=9,u.s();case 11:if((f=u.n()).done){e.next=44;break}return p=f.value,l=p.fid,d=!0,h=r.transaction(s["CHUNK_STORE"],"readwrite"),b=IDBKeyRange.bound([l,0],[l,1/0]),e.next=19,h.store.openCursor(b,"prev");case 19:v=e.sent;case 20:if(!v){e.next=36;break}if(!(c>t)){e.next=24;break}return d=!1,e.abrupt("break",36);case 24:return m=v.value,g=m.index,O=m.buffer,this._isCurrentFile(l)&&a.push(m),c+=O.length,o("Deleting fid: ".concat(l,", index: ").concat(g)),e.next=31,v.delete();case 31:return e.next=33,v.continue();case 33:v=e.sent,e.next=20;break;case 36:if(!d||this._isCurrentFile(l)){e.next=40;break}return o("Deleting torrentFile: ".concat(l)),e.next=40,r.delete(s["FILE_INFO_STORE"],l);case 40:if(!(c>t)){e.next=42;break}return e.abrupt("break",44);case 42:e.next=11;break;case 44:e.next=49;break;case 46:e.prev=46,e.t0=e["catch"](9),u.e(e.t0);case 49:return e.prev=49,u.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[9,46,49,52]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getFilesEligibleForEviction",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dbAsync;case 2:return t=e.sent,e.next=5,t.getAll(s["FILE_INFO_STORE"]);case 5:return r=e.sent,e.abrupt("return",r.filter((function(e){var t=e.fid,r=e.accessTime;return n._isCurrentFile(t)||n._hasTimedOut(r)})).sort((function(e,t){return e.accessTime.getTime()-t.accessTime.getTime()})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_hasTimedOut",value:function(e){var t=((new Date).getTime()-e.getTime())/1e3,r=Math.abs(t)>f;return r}},{key:"updateAccessTime",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.dbAsync;case 3:return t=e.sent,r=t.transaction(s["FILE_INFO_STORE"],"readwrite"),n=r.store,e.next=8,n.get(this.fid);case 8:if(a=e.sent,a){e.next=11;break}return e.abrupt("return");case 11:return a.accessTime=new Date,e.next=14,n.put(a);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](0);case 18:case"end":return e.stop()}}),e,this,[[0,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_isCurrentFile",value:function(e){return e===this.fid}}]),e}())}});